/**@license MIT-promiscuous-Â©Ruben Verborgh 
!function(n,t){"function"==typeof define&&define.amd?n.Promise?define([],function(){return n.Promise}):define([],function(){return n.Promise=t()}):"object"==typeof module&&module.exports?module.exports=n.Promise?n.Promise:t():n.Promise||(n.Promise=t())}(this,function(){function n(n,t){return(typeof t)[0]==n}function t(t,e,u,c,f){o(function(){try{c=f(c),f=c&&n(i,c)|n(r,c)&&c.then,n(r,f)?c==t?u(TypeError()):f.call(c,e,u):e(c)}catch(n){u(n)}})}function e(n){return u(function(t){t(n)})}var o="function"==typeof setImmediate?setImmediate:setTimeout,i="o",r="f",u=function(e,o){return o=function c(f,m,s,a,h,l){function p(t){return function(e){h&&(h=0,c(n,t,e))}}if(a=c.q,f!=n)return u(function(n,t){a.push({p:this,r:n,j:t,1:f,0:m})});if(s&&n(r,s)|n(i,s))try{h=s.then}catch(n){m=0,s=n}if(n(r,h))try{h.call(s,p(1),m=p(0))}catch(n){m(n)}else for(o=function(o,i){return n(r,o=m?o:i)?u(function(n,e){t(this,n,e,s,o)}):e},l=0;l<a.length;)h=a[l++],n(r,f=h[m])?t(h.p,h.r,h.j,s,f):(m?h.r:h.j)(s)},o.q=[],e.call(e={then:function(n,t){return o(n,t)},catch:function(n){return o(0,n)}},function(t){o(n,1,t)},function(t){o(n,0,t)}),e};return u.resolve=e,u.reject=function(n){return u(function(t,e){e(n)})},u.all=function(n){return u(function(t,o,i,r){r=[],i=n.length||t(r),n.map(function(n,u){e(n).then(function(n){r[u]=n,--i||t(r)},o)})})},u.race=function(n){return u(function(t,o){n.map(function(n){e(n).then(t,o)})})},u});